# Examples 测试配置
[pytest]
minversion = 6.0
addopts = -ra -q --strict-markers --strict-config --disable-warnings --benchmark-storage=../../.sage/benchmarks -o cache_dir=../../.sage/cache/pytest
testpaths = tools/tests
pythonpath =
    packages/sage/src
    packages/sage-common/src
    packages/sage-kernel/src
    packages/sage-libs/src
    packages/sage-middleware/src
    packages/sage-tools/src

markers =
    examples: marks tests as examples tests
    quick_examples: marks tests as quick examples tests
    slow_examples: marks tests as slow examples tests
    slow: marks tests as slow running
    tutorials: marks tests for tutorial examples
    rag: marks tests for RAG examples
    memory: marks tests for memory examples
    service: marks tests for service examples
    video: marks tests for video examples
    integration: marks tests as integration tests
    cpp_extensions: marks tests for C++ extensions
    example: marks tests for individual example programs

filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::RuntimeWarning
    ignore::PendingDeprecationWarning

# 测试超时设置 - 注释掉全局timeout，允许长时间运行的集成测试
# 单个example的timeout通过SAGE_EXAMPLE_TIMEOUT环境变量控制
# timeout = 300
# timeout_method = thread

# CI环境下的额外配置
log_level = WARNING
log_cli = false
log_cli_level = WARNING