# æµ‹è¯•ç³»ç»Ÿè¿ç§»æŒ‡å—

## æ¦‚è¿°

SAGE Framework å·²ç»ä»åˆ†æ•£çš„ `tools/tests` è„šæœ¬è¿ç§»åˆ°ç»Ÿä¸€çš„ `sage dev test` å‘½ä»¤ã€‚æœ¬æ–‡æ¡£è¯´æ˜äº†æ–°æ—§ç³»ç»Ÿçš„å·®å¼‚å’Œè¿ç§»æŒ‡å—ã€‚

## æ–°æ—§ç³»ç»Ÿå¯¹æ¯”

### æ—§ç³»ç»Ÿï¼štools/tests è„šæœ¬
- `run_tests.py` - Python é›†æˆæµ‹è¯•è¿è¡Œå™¨ï¼Œæ”¯æŒè¯¦ç»†é…ç½®
- `test_all_packages.sh` - Bash è„šæœ¬ï¼Œæ”¯æŒå¹¶è¡Œæ‰§è¡Œå’Œé«˜çº§é€‰é¡¹
- `quick_test.sh` - å¿«é€Ÿæµ‹è¯•è„šæœ¬ï¼Œé€‚åˆæ—¥å¸¸å¼€å‘

### æ–°ç³»ç»Ÿï¼šsage dev test å‘½ä»¤
- ç»Ÿä¸€çš„ CLI å…¥å£ç‚¹
- é›†æˆåˆ° SAGE å·¥å…·é“¾ä¸­
- æ”¯æŒä¸åŒæµ‹è¯•ç±»å‹ï¼šall, unit, integration
- æ›´ç®€æ´çš„æ¥å£å’Œä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ

## å‘½ä»¤å¯¹æ¯”

### åŸºæœ¬æµ‹è¯•

**æ—§ç³»ç»Ÿï¼š**
```bash
# ä½¿ç”¨ Python è„šæœ¬
cd tools/tests
python run_tests.py --all

# ä½¿ç”¨ Bash è„šæœ¬
./test_all_packages.sh

# å¿«é€Ÿæµ‹è¯•
./quick_test.sh
```

**æ–°ç³»ç»Ÿï¼š**
```bash
# æ‰€æœ‰æµ‹è¯•
sage dev test

# å•å…ƒæµ‹è¯•
sage dev test --test-type unit

# é›†æˆæµ‹è¯•  
sage dev test --test-type integration

# è¯¦ç»†è¾“å‡º
sage dev test --verbose
```

### é«˜çº§é€‰é¡¹å¯¹æ¯”

| åŠŸèƒ½ | æ—§ç³»ç»Ÿ | æ–°ç³»ç»Ÿ | çŠ¶æ€ |
|------|--------|--------|------|
| æµ‹è¯•ç±»å‹é€‰æ‹© | `--unit`, `--integration` | `--test-type unit/integration` | âœ… å·²è¿ç§» |
| è¯¦ç»†è¾“å‡º | `--verbose` | `--verbose` | âœ… å·²è¿ç§» |
| å¹¶è¡Œæ‰§è¡Œ | `--jobs N` | å†…ç½®ä¼˜åŒ– | ğŸ”„ é‡æ–°è®¾è®¡ |
| è¶…æ—¶æ§åˆ¶ | `--timeout N` | å†…ç½®é»˜è®¤å€¼ | ğŸ”„ é‡æ–°è®¾è®¡ |
| æµ‹è¯•æŠ¥å‘Š | `--report file.txt` | å†…ç½®æ—¥å¿— | ğŸ”„ é‡æ–°è®¾è®¡ |
| å¤±è´¥é‡è·‘ | `--failed` | æš‚ä¸æ”¯æŒ | âŒ å¾…å®ç° |
| åŒ…é€‰æ‹© | `--packages pkg1,pkg2` | è‡ªåŠ¨å‘ç° | ğŸ”„ é‡æ–°è®¾è®¡ |

## è¿ç§»æ­¥éª¤

### 1. ç«‹å³å¯ç”¨
æ–°çš„ `sage dev test` å‘½ä»¤å·²ç»å¯ä»¥ä½¿ç”¨ï¼Œæä¾›åŸºæœ¬çš„æµ‹è¯•åŠŸèƒ½ã€‚

### 2. CI/CD å·²æ›´æ–°
- `.github/workflows/ci.yml` å·²æ›´æ–°ä½¿ç”¨ `sage dev test`
- `.github/workflows/dev-ci.yml` å·²æ›´æ–°ä½¿ç”¨ `sage dev test`

### 3. é€æ­¥æ·˜æ±°
`tools/tests` ä¸‹çš„è„šæœ¬å°†é€æ­¥æ·˜æ±°ï¼Œä½†åœ¨è¿‡æ¸¡æœŸä»å¯ä½¿ç”¨ã€‚

## æ¨èç”¨æ³•

### æ—¥å¸¸å¼€å‘
```bash
# å¿«é€ŸéªŒè¯
sage dev test --test-type unit

# è¯¦ç»†æµ‹è¯•
sage dev test --verbose
```

### CI/CD
```bash
# å•å…ƒæµ‹è¯•
sage dev test --test-type unit --verbose

# é›†æˆæµ‹è¯•
sage dev test --test-type integration --verbose
```

### å®Œæ•´æµ‹è¯•
```bash
# æ‰€æœ‰æµ‹è¯•
sage dev test --verbose
```

## æš‚æ—¶ä¿ç•™çš„åŠŸèƒ½

ä»¥ä¸‹åŠŸèƒ½åœ¨ `tools/tests` ä¸­æš‚æ—¶ä¿ç•™ï¼Œç­‰å¾…åç»­è¿ç§»ï¼š

1. **é«˜çº§å¹¶è¡Œæ§åˆ¶** - `test_all_packages.sh` çš„ `--jobs` å‚æ•°
2. **è¶…æ—¶è‡ªå®šä¹‰** - `--timeout` å‚æ•°çš„ç»†ç²’åº¦æ§åˆ¶
3. **æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ** - `--report` åŠŸèƒ½
4. **å¤±è´¥é‡è·‘** - `--failed` é€‰é¡¹
5. **åŒ…é€‰æ‹©** - ç²¾ç¡®çš„åŒ…æµ‹è¯•é€‰æ‹©

## åç»­è§„åˆ’

1. **åŠŸèƒ½å¢å¼º**ï¼šå°†æ—§ç³»ç»Ÿçš„é«˜çº§åŠŸèƒ½é€æ­¥é›†æˆåˆ° `sage dev test`
2. **å®Œå…¨æ·˜æ±°**ï¼šå®ŒæˆåŠŸèƒ½è¿ç§»åï¼Œç§»é™¤ `tools/tests` è„šæœ¬
3. **æ–‡æ¡£æ›´æ–°**ï¼šæ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡æ¡£å’Œç¤ºä¾‹

## é—®é¢˜åé¦ˆ

å¦‚æœåœ¨ä½¿ç”¨æ–°æµ‹è¯•ç³»ç»Ÿæ—¶é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥æ˜¯å¦å¯ä»¥ç”¨æ—§ç³»ç»Ÿè§£å†³ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰
2. æäº¤ issue æŠ¥å‘Šé—®é¢˜
3. åœ¨è¿‡æ¸¡æœŸå¯ä»¥ç»§ç»­ä½¿ç”¨æ—§è„šæœ¬ä½œä¸ºå¤‡é€‰

---

**æœ€åæ›´æ–°**ï¼š2025-09-13  
**çŠ¶æ€**ï¼šè¿ç§»è¿›è¡Œä¸­
