#!/bin/bash
# SAGE å®‰å…¨æ€§æ”¹è¿› - å¿«é€Ÿå‚è€ƒå‘½ä»¤

# ============================================================================
# å®‰å…¨å®‰è£…ï¼ˆæ¨èï¼‰
# ============================================================================

# æ–¹å¼ 1: æ ‡å‡†å®‰å…¨å®‰è£…ï¼ˆå¸¦æ·±åº¦éªŒè¯ï¼‰
echo "ğŸ“¦ æ ‡å‡†å®‰å…¨å®‰è£…"
# python3 -m venv sage-env
# source sage-env/bin/activate
# ./quickstart.sh --verify-deps --standard

# ============================================================================
# CI/CD éƒ¨ç½²
# ============================================================================

# æ–¹å¼ 2: ä¸¥æ ¼éªŒè¯æ¨¡å¼ï¼ˆç”¨äº CI/CDï¼‰
echo "ğŸ”’ CI/CD ä¸¥æ ¼éªŒè¯æ¨¡å¼"
# ./quickstart.sh --verify-deps-strict --dev --yes

# ============================================================================
# ä¼ä¸šç½‘ç»œéƒ¨ç½²
# ============================================================================

# æ–¹å¼ 3: ä¼ä¸šç½‘ç»œï¼ˆé…ç½®ä»£ç†ï¼‰
echo "ğŸ¢ ä¼ä¸šç½‘ç»œéƒ¨ç½²"
# export HTTP_PROXY=http://proxy.company.com:8080
# export HTTPS_PROXY=https://proxy.company.com:8080
# ./quickstart.sh --verify-deps --standard --yes

# ============================================================================
# Air-Gapped ç¦»çº¿ç³»ç»Ÿ
# ============================================================================

# æ–¹å¼ 4: Air-Gapped ç³»ç»Ÿï¼ˆå®Œå…¨ç¦»çº¿ï¼‰
echo "ğŸŒ Air-Gapped ç¦»çº¿å®‰è£…"

# æ­¥éª¤ 1: åœ¨æœ‰ç½‘ç»œçš„ç³»ç»Ÿä¸Šä¸‹è½½ç¦»çº¿åŒ…
# pip download -d ~/packages isage[standard]
# tar -czf packages.tar.gz packages/
# # é€šè¿‡ USB/SCP ä¼ è¾“åˆ°ç›®æ ‡ç³»ç»Ÿ

# æ­¥éª¤ 2: åœ¨ç¦»çº¿ç³»ç»Ÿä¸Šå®‰è£…
# tar -xzf packages.tar.gz
# pip install isage[standard] --no-index --find-links ./packages

# ============================================================================
# å¿«é€Ÿè¯Šæ–­
# ============================================================================

# è¯Šæ–­ç¯å¢ƒé—®é¢˜
echo "ğŸ” ç¯å¢ƒè¯Šæ–­"
# ./quickstart.sh --doctor

# è¯Šæ–­å¹¶è‡ªåŠ¨ä¿®å¤
echo "ğŸ”§ è¯Šæ–­å¹¶ä¿®å¤"
# ./quickstart.sh --doctor-fix

# ============================================================================
# éªŒè¯å®‰è£…
# ============================================================================

# æŸ¥çœ‹ SAGE ç‰ˆæœ¬
echo "âœ… éªŒè¯å®‰è£…"
# python3 -c "import sage; print(f'SAGE {sage.__version__} installed')"

# è¿è¡Œ SAGE è¯Šæ–­
# sage doctor

# ============================================================================
# å¸®åŠ©å’Œæ–‡æ¡£
# ============================================================================

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨é€‰é¡¹
echo "ğŸ“– æŸ¥çœ‹å¸®åŠ©"
# ./quickstart.sh --help

# æŸ¥çœ‹ --verify-deps é€‰é¡¹
echo "ğŸ” éªŒè¯é€‰é¡¹è¯´æ˜"
# ./quickstart.sh --help | grep -A 10 "verify-deps"

# ============================================================================
# å®‰å…¨æ–‡æ¡£å¯¼èˆª
# ============================================================================

echo ""
echo "ğŸ“š å®‰å…¨æ–‡æ¡£å¯¼èˆª"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ  å®‰å…¨æ–‡æ¡£é¦–é¡µ"
echo "   docs/security/README.md"
echo ""
echo "ğŸ” æƒé™ç®¡ç†æŒ‡å—"
echo "   docs/security/PERMISSION_MANAGEMENT.md"
echo ""
echo "ğŸ”’ å®‰å…¨å®‰è£…æŒ‡å—"
echo "   docs/security/SECURE_INSTALLATION_GUIDE.md"
echo ""
echo "ğŸŒ ç¦»çº¿å®‰è£…æŒ‡å—"
echo "   docs/security/OFFLINE_INSTALLATION.md"
echo ""
echo "ğŸ“‹ å®‰å…¨æ”¹è¿›æ€»ç»“"
echo "   docs/security/SECURITY_IMPROVEMENTS.md"
echo ""
echo "ğŸ“Š å®ç°æ€»ç»“"
echo "   docs/security/IMPLEMENTATION_SUMMARY.md"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ’¡ æ›´å¤šå¸®åŠ©: ./quickstart.sh --help"
