{
  "Python线程队列": {
    "single_thread": {
      "queue_type": "python",
      "num_items": 5000,
      "write_duration": 0.011955738067626953,
      "read_duration": 0.011053085327148438,
      "write_throughput": 418209.2290511706,
      "read_throughput": 452362.3813632442,
      "total_duration": 0.02300882339477539,
      "memory_delta_mb": 0.2578125,
      "memory_before": {
        "rss_mb": 77.28515625,
        "vms_mb": 170.7890625,
        "percent": 0.1609309708216736
      },
      "memory_after": {
        "rss_mb": 77.54296875,
        "vms_mb": 170.7890625,
        "percent": 0.16146781409052527
      }
    },
    "multi_thread": {
      "queue_type": "python",
      "num_threads": 4,
      "items_per_thread": 1250,
      "total_items": 5000,
      "producer_duration": 0.013291358947753906,
      "consumer_duration": 0.012529611587524414,
      "total_consumed": 5000,
      "avg_producer_throughput": 405273.00680899195,
      "max_producer_throughput": 414653.5906358747,
      "avg_consumer_throughput": 424109.5525198708,
      "max_consumer_throughput": 436252.2882343152,
      "memory_delta_mb": 0.0546875,
      "producer_results": [
        {
          "thread_id": 2,
          "duration": 0.0030715465545654297,
          "throughput": 406961.11154234264
        },
        {
          "thread_id": 0,
          "duration": 0.003239154815673828,
          "throughput": 385903.1355807449
        },
        {
          "thread_id": 1,
          "duration": 0.0030145645141601562,
          "throughput": 414653.5906358747
        },
        {
          "thread_id": 3,
          "duration": 0.003022432327270508,
          "throughput": 413574.1894770056
        }
      ],
      "consumer_results": [
        {
          "thread_id": 2,
          "duration": 0.0030333995819091797,
          "consumed": 1250,
          "throughput": 412078.91220624064
        },
        {
          "thread_id": 0,
          "duration": 0.0030035972595214844,
          "consumed": 1250,
          "throughput": 416167.64565804094
        },
        {
          "thread_id": 1,
          "duration": 0.0028939247131347656,
          "consumed": 1250,
          "throughput": 431939.36398088647
        },
        {
          "thread_id": 3,
          "duration": 0.002865314483642578,
          "consumed": 1250,
          "throughput": 436252.2882343152
        }
      ]
    },
    "latency": {
      "queue_type": "python",
      "num_samples": 500,
      "avg_latency_ms": 0.004610500131093431,
      "median_latency_ms": 0.0044959997467231005,
      "min_latency_ms": 0.004266003088559955,
      "max_latency_ms": 0.021927000489085913,
      "p95_latency_ms": 0.004721451841760427,
      "p99_latency_ms": 0.007939742208691314,
      "stddev_latency_ms": 0.001008407622671479
    },
    "queue_size": {
      "queue_type": "python",
      "max_size": 50000,
      "step_size": 10000,
      "size_results": [
        {
          "queue_size": 10000,
          "fill_duration": 0.023829936981201172,
          "fill_throughput": 419640.220110055,
          "read_duration": 0.0023162364959716797,
          "read_throughput": 431734.8430262481,
          "memory_mb": 77.59765625
        },
        {
          "queue_size": 20000,
          "fill_duration": 0.05561566352844238,
          "fill_throughput": 359610.92129687185,
          "read_duration": 0.0022919178009033203,
          "read_throughput": 436315.8223239363,
          "memory_mb": 78.11328125
        },
        {
          "queue_size": 30000,
          "fill_duration": 0.07564020156860352,
          "fill_throughput": 396614.49041474133,
          "read_duration": 0.002099752426147461,
          "read_throughput": 476246.6220052231,
          "memory_mb": 78.88671875
        },
        {
          "queue_size": 40000,
          "fill_duration": 0.09592533111572266,
          "fill_throughput": 416991.00263458764,
          "read_duration": 0.0020003318786621094,
          "read_throughput": 499917.0441001192,
          "memory_mb": 79.3125
        },
        {
          "queue_size": 50000,
          "fill_duration": 0.1199653148651123,
          "fill_throughput": 416787.1359835921,
          "read_duration": 0.0020666122436523438,
          "read_throughput": 483883.710198431,
          "memory_mb": 79.39453125
        }
      ]
    }
  },
  "Python多进程队列": {
    "single_thread": {
      "queue_type": "python",
      "num_items": 5000,
      "write_duration": 0.012922525405883789,
      "read_duration": 0.011493444442749023,
      "write_throughput": 386921.2745152303,
      "read_throughput": 435030.5972161719,
      "total_duration": 0.024415969848632812,
      "memory_delta_mb": 0.0,
      "memory_before": {
        "rss_mb": 79.39453125,
        "vms_mb": 244.05078125,
        "percent": 0.16532332483955098
      },
      "memory_after": {
        "rss_mb": 79.39453125,
        "vms_mb": 244.05078125,
        "percent": 0.16532332483955098
      }
    },
    "multi_thread": {
      "queue_type": "python",
      "num_threads": 4,
      "items_per_thread": 1250,
      "total_items": 5000,
      "producer_duration": 0.015542030334472656,
      "consumer_duration": 0.014283418655395508,
      "total_consumed": 5000,
      "avg_producer_throughput": 346370.26709505246,
      "max_producer_throughput": 368749.47249964834,
      "avg_consumer_throughput": 378093.39343303256,
      "max_consumer_throughput": 400923.7592720043,
      "memory_delta_mb": 0.0234375,
      "producer_results": [
        {
          "thread_id": 1,
          "duration": 0.0033898353576660156,
          "throughput": 368749.47249964834
        },
        {
          "thread_id": 0,
          "duration": 0.0035605430603027344,
          "throughput": 351070.0415160037
        },
        {
          "thread_id": 2,
          "duration": 0.0036585330963134766,
          "throughput": 341666.9925057022
        },
        {
          "thread_id": 3,
          "duration": 0.0038580894470214844,
          "throughput": 323994.56185885554
        }
      ],
      "consumer_results": [
        {
          "thread_id": 2,
          "duration": 0.003513813018798828,
          "consumed": 1250,
          "throughput": 355738.9062287963
        },
        {
          "thread_id": 1,
          "duration": 0.0032112598419189453,
          "consumed": 1250,
          "throughput": 389255.3270472938
        },
        {
          "thread_id": 0,
          "duration": 0.0034110546112060547,
          "consumed": 1250,
          "throughput": 366455.5811840358
        },
        {
          "thread_id": 3,
          "duration": 0.003117799758911133,
          "consumed": 1250,
          "throughput": 400923.7592720043
        }
      ]
    },
    "latency": {
      "queue_type": "python",
      "num_samples": 500,
      "avg_latency_ms": 0.005018888070480898,
      "median_latency_ms": 0.00494800042361021,
      "min_latency_ms": 0.0047339999582618475,
      "max_latency_ms": 0.02173000029870309,
      "p95_latency_ms": 0.005165952461538836,
      "p99_latency_ms": 0.005509453076228965,
      "stddev_latency_ms": 0.0008841752700150717
    },
    "queue_size": {
      "queue_type": "python",
      "max_size": 50000,
      "step_size": 10000,
      "size_results": [
        {
          "queue_size": 10000,
          "fill_duration": 0.026009559631347656,
          "fill_throughput": 384474.0219264474,
          "read_duration": 0.0026311874389648438,
          "read_throughput": 380056.542225444,
          "memory_mb": 79.41796875
        },
        {
          "queue_size": 20000,
          "fill_duration": 0.05233645439147949,
          "fill_throughput": 382142.8148418104,
          "read_duration": 0.002245664596557617,
          "read_throughput": 445302.4737233252,
          "memory_mb": 79.41796875
        },
        {
          "queue_size": 30000,
          "fill_duration": 0.07878494262695312,
          "fill_throughput": 380783.42129472713,
          "read_duration": 0.002302408218383789,
          "read_throughput": 434327.84508646576,
          "memory_mb": 79.41796875
        },
        {
          "queue_size": 40000,
          "fill_duration": 0.10459041595458984,
          "fill_throughput": 382444.2195293195,
          "read_duration": 0.002238035202026367,
          "read_throughput": 446820.4964312347,
          "memory_mb": 79.421875
        },
        {
          "queue_size": 50000,
          "fill_duration": 0.13023948669433594,
          "fill_throughput": 383908.1469765535,
          "read_duration": 0.0021855831146240234,
          "read_throughput": 457543.79840733064,
          "memory_mb": 79.421875
        }
      ]
    }
  }
}