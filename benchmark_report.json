{
  "Python线程队列": {
    "single_thread": {
      "queue_type": "python",
      "num_items": 5000,
      "write_duration": 0.012853860855102539,
      "read_duration": 0.010874271392822266,
      "write_throughput": 388988.18466789083,
      "read_throughput": 459800.9208506906,
      "total_duration": 0.023728132247924805,
      "memory_delta_mb": 0.0,
      "memory_before": {
        "rss_mb": 97.46875,
        "vms_mb": 199.60546875,
        "percent": 0.3044486200248908
      },
      "memory_after": {
        "rss_mb": 97.46875,
        "vms_mb": 199.60546875,
        "percent": 0.3044486200248908
      }
    },
    "multi_thread": {
      "queue_type": "python",
      "num_threads": 4,
      "items_per_thread": 1250,
      "total_items": 5000,
      "producer_duration": 0.04191780090332031,
      "consumer_duration": 0.09969449043273926,
      "total_consumed": 5000,
      "avg_producer_throughput": 116680.3466928556,
      "max_producer_throughput": 179207.00027344818,
      "avg_consumer_throughput": 15205.000390201421,
      "max_consumer_throughput": 15780.114734263167,
      "memory_delta_mb": 0.0,
      "producer_results": [
        {
          "thread_id": 1,
          "duration": 0.0069751739501953125,
          "throughput": 179207.00027344818
        },
        {
          "thread_id": 0,
          "duration": 0.007258415222167969,
          "throughput": 172213.90093286033
        },
        {
          "thread_id": 2,
          "duration": 0.02300858497619629,
          "throughput": 54327.54779545101
        },
        {
          "thread_id": 3,
          "duration": 0.020500898361206055,
          "throughput": 60972.93776966286
        }
      ],
      "consumer_results": [
        {
          "thread_id": 0,
          "duration": 0.07921361923217773,
          "consumed": 1250,
          "throughput": 15780.114734263167
        },
        {
          "thread_id": 1,
          "duration": 0.08761072158813477,
          "consumed": 1250,
          "throughput": 14267.6601372644
        },
        {
          "thread_id": 2,
          "duration": 0.08320355415344238,
          "consumed": 1250,
          "throughput": 15023.396689218038
        },
        {
          "thread_id": 3,
          "duration": 0.07937097549438477,
          "consumed": 1250,
          "throughput": 15748.830000060078
        }
      ]
    },
    "latency": {
      "queue_type": "python",
      "num_samples": 500,
      "avg_latency_ms": 0.010843004012713209,
      "median_latency_ms": 0.009418999979970977,
      "min_latency_ms": 0.009112000043387525,
      "max_latency_ms": 0.10207800005446188,
      "p95_latency_ms": 0.012275750123080797,
      "p99_latency_ms": 0.059993900313202175,
      "stddev_latency_ms": 0.008149649385295034
    },
    "queue_size": {
      "queue_type": "python",
      "max_size": 50000,
      "step_size": 10000,
      "size_results": [
        {
          "queue_size": 10000,
          "fill_duration": 0.022968530654907227,
          "fill_throughput": 435378.30740006437,
          "read_duration": 0.0018193721771240234,
          "read_throughput": 549640.1520115319,
          "memory_mb": 97.46875
        },
        {
          "queue_size": 20000,
          "fill_duration": 0.04525279998779297,
          "fill_throughput": 441961.6024952056,
          "read_duration": 0.0018534660339355469,
          "read_throughput": 539529.7144327245,
          "memory_mb": 98.03125
        },
        {
          "queue_size": 30000,
          "fill_duration": 0.06648635864257812,
          "fill_throughput": 451220.3798267256,
          "read_duration": 0.0017664432525634766,
          "read_throughput": 566109.3264948037,
          "memory_mb": 98.875
        },
        {
          "queue_size": 40000,
          "fill_duration": 0.08916735649108887,
          "fill_throughput": 448594.6603564219,
          "read_duration": 0.0018644332885742188,
          "read_throughput": 536356.0102301791,
          "memory_mb": 98.9296875
        },
        {
          "queue_size": 50000,
          "fill_duration": 0.11137962341308594,
          "fill_throughput": 448915.1468447641,
          "read_duration": 0.0018546581268310547,
          "read_throughput": 539182.9283969662,
          "memory_mb": 99.01171875
        }
      ]
    }
  },
  "Python多进程队列": {
    "single_thread": {
      "queue_type": "python",
      "num_items": 5000,
      "write_duration": 0.011083364486694336,
      "read_duration": 0.00925445556640625,
      "write_throughput": 451126.55150902405,
      "read_throughput": 540280.296784831,
      "total_duration": 0.020337820053100586,
      "memory_delta_mb": 0.0,
      "memory_before": {
        "rss_mb": 99.01171875,
        "vms_mb": 409.0,
        "percent": 0.3092681617413798
      },
      "memory_after": {
        "rss_mb": 99.01171875,
        "vms_mb": 409.0,
        "percent": 0.3092681617413798
      }
    },
    "multi_thread": {
      "queue_type": "python",
      "num_threads": 4,
      "items_per_thread": 1250,
      "total_items": 5000,
      "producer_duration": 0.30081725120544434,
      "consumer_duration": 0.022052526473999023,
      "total_consumed": 5000,
      "avg_producer_throughput": 5967.9430943011375,
      "max_producer_throughput": 11002.849935572149,
      "avg_consumer_throughput": 280127.672856787,
      "max_consumer_throughput": 374678.7679554063,
      "memory_delta_mb": 0.0,
      "producer_results": [
        {
          "thread_id": 0,
          "duration": 0.11360692977905273,
          "throughput": 11002.849935572149
        },
        {
          "thread_id": 2,
          "duration": 0.28916263580322266,
          "throughput": 4322.826829018927
        },
        {
          "thread_id": 1,
          "duration": 0.2935056686401367,
          "throughput": 4258.861526564272
        },
        {
          "thread_id": 3,
          "duration": 0.2915632724761963,
          "throughput": 4287.234086049202
        }
      ],
      "consumer_results": [
        {
          "thread_id": 0,
          "duration": 0.0069179534912109375,
          "consumed": 1250,
          "throughput": 180689.27488282326
        },
        {
          "thread_id": 1,
          "duration": 0.006109952926635742,
          "consumed": 1250,
          "throughput": 204584.22757248214
        },
        {
          "thread_id": 2,
          "duration": 0.003336191177368164,
          "consumed": 1250,
          "throughput": 374678.7679554063
        },
        {
          "thread_id": 3,
          "duration": 0.0034668445587158203,
          "consumed": 1250,
          "throughput": 360558.4210164363
        }
      ]
    },
    "latency": {
      "queue_type": "python",
      "num_samples": 500,
      "avg_latency_ms": 0.010477433981577633,
      "median_latency_ms": 0.009418999979970977,
      "min_latency_ms": 0.009112000043387525,
      "max_latency_ms": 0.11385199923097389,
      "p95_latency_ms": 0.010130900136573473,
      "p99_latency_ms": 0.056715879964031046,
      "stddev_latency_ms": 0.007389666530378154
    },
    "queue_size": {
      "queue_type": "python",
      "max_size": 50000,
      "step_size": 10000,
      "size_results": [
        {
          "queue_size": 10000,
          "fill_duration": 0.03454995155334473,
          "fill_throughput": 289436.0064314451,
          "read_duration": 0.0021882057189941406,
          "read_throughput": 456995.4238396165,
          "memory_mb": 99.01171875
        },
        {
          "queue_size": 20000,
          "fill_duration": 0.055690765380859375,
          "fill_throughput": 359125.96753202274,
          "read_duration": 0.002137899398803711,
          "read_throughput": 467748.8569198171,
          "memory_mb": 99.01171875
        },
        {
          "queue_size": 30000,
          "fill_duration": 0.08162331581115723,
          "fill_throughput": 367542.03994123026,
          "read_duration": 0.003078937530517578,
          "read_throughput": 324787.36255226884,
          "memory_mb": 99.01171875
        },
        {
          "queue_size": 40000,
          "fill_duration": 0.1115729808807373,
          "fill_throughput": 358509.73671445454,
          "read_duration": 0.0021593570709228516,
          "read_throughput": 463100.8060064039,
          "memory_mb": 99.01171875
        },
        {
          "queue_size": 50000,
          "fill_duration": 0.1191704273223877,
          "fill_throughput": 419567.1789003215,
          "read_duration": 0.0018475055694580078,
          "read_throughput": 541270.3574654794,
          "memory_mb": 99.01171875
        }
      ]
    }
  }
}