{
  "Python线程队列": {
    "single_thread": {
      "queue_type": "python",
      "num_items": 5000,
      "write_duration": 0.011034965515136719,
      "read_duration": 0.009317636489868164,
      "write_throughput": 453105.1767349408,
      "read_throughput": 536616.770297587,
      "total_duration": 0.020352602005004883,
      "memory_delta_mb": 0.0,
      "memory_before": {
        "rss_mb": 97.67578125,
        "vms_mb": 191.60546875,
        "percent": 0.30509529271090075
      },
      "memory_after": {
        "rss_mb": 97.67578125,
        "vms_mb": 191.60546875,
        "percent": 0.30509529271090075
      }
    },
    "multi_thread": {
      "queue_type": "python",
      "num_threads": 4,
      "items_per_thread": 1250,
      "total_items": 5000,
      "producer_duration": 0.03976845741271973,
      "consumer_duration": 0.01474761962890625,
      "total_consumed": 5000,
      "avg_producer_throughput": 117796.06751958892,
      "max_producer_throughput": 177064.505234718,
      "avg_consumer_throughput": 405011.89652043814,
      "max_consumer_throughput": 415277.62376237626,
      "memory_delta_mb": 0.0,
      "producer_results": [
        {
          "thread_id": 0,
          "duration": 0.00720977783203125,
          "throughput": 173375.66137566138
        },
        {
          "thread_id": 1,
          "duration": 0.007059574127197266,
          "throughput": 177064.505234718
        },
        {
          "thread_id": 2,
          "duration": 0.02326798439025879,
          "throughput": 53721.88579098911
        },
        {
          "thread_id": 3,
          "duration": 0.018650531768798828,
          "throughput": 67022.21767698719
        }
      ],
      "consumer_results": [
        {
          "thread_id": 1,
          "duration": 0.0030100345611572266,
          "consumed": 1250,
          "throughput": 415277.62376237626
        },
        {
          "thread_id": 2,
          "duration": 0.0031578540802001953,
          "consumed": 1250,
          "throughput": 395838.429596074
        },
        {
          "thread_id": 0,
          "duration": 0.003094196319580078,
          "consumed": 1250,
          "throughput": 403982.1235937741
        },
        {
          "thread_id": 3,
          "duration": 0.0030868053436279297,
          "consumed": 1250,
          "throughput": 404949.4091295281
        }
      ]
    },
    "latency": {
      "queue_type": "python",
      "num_samples": 500,
      "avg_latency_ms": 0.010528232001888682,
      "median_latency_ms": 0.009321999641542789,
      "min_latency_ms": 0.008911999429983553,
      "max_latency_ms": 0.10920400018221699,
      "p95_latency_ms": 0.00982985011432902,
      "p99_latency_ms": 0.06093968977438635,
      "stddev_latency_ms": 0.008791342329456716
    },
    "queue_size": {
      "queue_type": "python",
      "max_size": 50000,
      "step_size": 10000,
      "size_results": [
        {
          "queue_size": 10000,
          "fill_duration": 0.02187180519104004,
          "fill_throughput": 457209.6318824466,
          "read_duration": 0.001783132553100586,
          "read_throughput": 560810.8035833668,
          "memory_mb": 97.67578125
        },
        {
          "queue_size": 20000,
          "fill_duration": 0.04497885704040527,
          "fill_throughput": 444653.36195701145,
          "read_duration": 0.0017993450164794922,
          "read_throughput": 555757.7845501524,
          "memory_mb": 98.23828125
        },
        {
          "queue_size": 30000,
          "fill_duration": 0.06641077995300293,
          "fill_throughput": 451733.8905103986,
          "read_duration": 0.0018162727355957031,
          "read_throughput": 550578.1044893673,
          "memory_mb": 99.08203125
        },
        {
          "queue_size": 40000,
          "fill_duration": 0.09145069122314453,
          "fill_throughput": 437394.1789285975,
          "read_duration": 0.001875162124633789,
          "read_throughput": 533287.22186904,
          "memory_mb": 99.12890625
        },
        {
          "queue_size": 50000,
          "fill_duration": 0.11264634132385254,
          "fill_throughput": 443867.05695351906,
          "read_duration": 0.0017926692962646484,
          "read_throughput": 557827.3706609921,
          "memory_mb": 99.2109375
        }
      ]
    }
  },
  "Python多进程队列": {
    "single_thread": {
      "queue_type": "python",
      "num_items": 5000,
      "write_duration": 0.010996818542480469,
      "read_duration": 0.00906515121459961,
      "write_throughput": 454676.957766022,
      "read_throughput": 551562.7794434801,
      "total_duration": 0.020061969757080078,
      "memory_delta_mb": 0.0,
      "memory_before": {
        "rss_mb": 99.2109375,
        "vms_mb": 264.99609375,
        "percent": 0.30989043168452135
      },
      "memory_after": {
        "rss_mb": 99.2109375,
        "vms_mb": 264.99609375,
        "percent": 0.30989043168452135
      }
    },
    "multi_thread": {
      "queue_type": "python",
      "num_threads": 4,
      "items_per_thread": 1250,
      "total_items": 5000,
      "producer_duration": 0.30151915550231934,
      "consumer_duration": 0.014243364334106445,
      "total_consumed": 5000,
      "avg_producer_throughput": 5770.314269070544,
      "max_producer_throughput": 10242.220481393428,
      "avg_consumer_throughput": 394463.43337348907,
      "max_consumer_throughput": 409280.24980483996,
      "memory_delta_mb": 0.0,
      "producer_results": [
        {
          "thread_id": 0,
          "duration": 0.12204384803771973,
          "throughput": 10242.220481393428
        },
        {
          "thread_id": 2,
          "duration": 0.2904813289642334,
          "throughput": 4303.202565401066
        },
        {
          "thread_id": 3,
          "duration": 0.29105424880981445,
          "throughput": 4294.732013401378
        },
        {
          "thread_id": 1,
          "duration": 0.2947347164154053,
          "throughput": 4241.102016086303
        }
      ],
      "consumer_results": [
        {
          "thread_id": 1,
          "duration": 0.0030541419982910156,
          "consumed": 1250,
          "throughput": 409280.24980483996
        },
        {
          "thread_id": 0,
          "duration": 0.0031557083129882812,
          "consumed": 1250,
          "throughput": 396107.5853732245
        },
        {
          "thread_id": 2,
          "duration": 0.003398895263671875,
          "consumed": 1250,
          "throughput": 367766.5544332211
        },
        {
          "thread_id": 3,
          "duration": 0.003088712692260742,
          "consumed": 1250,
          "throughput": 404699.3438826708
        }
      ]
    },
    "latency": {
      "queue_type": "python",
      "num_samples": 500,
      "avg_latency_ms": 0.004344624005170772,
      "median_latency_ms": 0.0040979994082590565,
      "min_latency_ms": 0.003994999133283272,
      "max_latency_ms": 0.05470399992191233,
      "p95_latency_ms": 0.004301999979361426,
      "p99_latency_ms": 0.013198609849496279,
      "stddev_latency_ms": 0.002686790303026585
    },
    "queue_size": {
      "queue_type": "python",
      "max_size": 50000,
      "step_size": 10000,
      "size_results": [
        {
          "queue_size": 10000,
          "fill_duration": 0.02150869369506836,
          "fill_throughput": 464928.2816414304,
          "read_duration": 0.0017592906951904297,
          "read_throughput": 568410.8957853367,
          "memory_mb": 99.2109375
        },
        {
          "queue_size": 20000,
          "fill_duration": 0.04270124435424805,
          "fill_throughput": 468370.4257908901,
          "read_duration": 0.0017311573028564453,
          "read_throughput": 577648.2578157278,
          "memory_mb": 99.2109375
        },
        {
          "queue_size": 30000,
          "fill_duration": 0.0680391788482666,
          "fill_throughput": 440922.42892734875,
          "read_duration": 0.001848459243774414,
          "read_throughput": 540991.10021927,
          "memory_mb": 99.2109375
        },
        {
          "queue_size": 40000,
          "fill_duration": 0.08604145050048828,
          "fill_throughput": 464892.20913091186,
          "read_duration": 0.001756429672241211,
          "read_throughput": 569336.7720917605,
          "memory_mb": 99.21875
        },
        {
          "queue_size": 50000,
          "fill_duration": 0.11060595512390137,
          "fill_throughput": 452055.2256340062,
          "read_duration": 0.0017592906951904297,
          "read_throughput": 568410.8957853367,
          "memory_mb": 99.21875
        }
      ]
    }
  }
}