# Pytest 配置 - sage-middleware 测试（排除 NeuroMem 内部测试）

[tool.pytest.ini_options]
testpaths = [
    "tests/components/sage_db",
    "tests/components/sage_refiner",
    "tests/components/test_extensions_compat.py",
    "tests/unit/components/sage_tsdb",
    "tests/unit/components/sage_mem/test_service_validation.py",
    "tests/unit/agent",
    "tests/operators",
    # 暂时排除 NeuroMem 内部测试（待迁移）
    # "tests/components/sage_mem",
    # "tests/unit/components/sage_mem/neuromem",
    # "tests/integration/services",
    # "tests/e2e",
    # "tests/performance",
]

# 显式忽略 NeuroMem 内部测试
norecursedirs = [
    "tests/components/sage_mem",
    "tests/unit/components/sage_mem/neuromem",
    "tests/integration/services",
    "tests/e2e",
    "tests/performance",
    "tests/manual",
    "tests/verification",
]

markers = [
    "neuromem: Tests for NeuroMem components (to be migrated)",
    "integration: Integration tests with external packages",
    "unit: Unit tests for SAGE components",
]
