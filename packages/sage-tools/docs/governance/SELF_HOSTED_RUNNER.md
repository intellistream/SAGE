# Self-hosted Runner 指南（SAGE - 可选）

- 版本：2026-01-14
- 适用范围：当前包（本文件位于 `packages/<package>/docs/governance/SELF_HOSTED_RUNNER.md`）

> 本章节用于需要 GPU/重依赖/长耗时测试的包。若本包不需要，可保留但不强制启用。

______________________________________________________________________

## 1. 什么时候需要 self-hosted runner

- GPU 相关测试（CUDA/Ascend）
- 需要特殊硬件或驱动版本
- 需要访问内网资源（需安全评估）

______________________________________________________________________

## 2. Runner 安装与标签（模板）

- Runner 类型：GitHub Actions self-hosted
- 标签建议：
  - `self-hosted`
  - `linux`
  - `x64`
  - `gpu`（如适用）
  - `cuda-<major>`（如适用）

______________________________________________________________________

## 3. 环境要求（模板）

- OS：Linux（推荐）
- Python：与仓库要求一致（3.10+）
- 构建依赖：cmake / build-essential / BLAS 等（按仓库安装脚本）

______________________________________________________________________

## 4. 安全注意事项（强制）

- Runner 机器不可暴露敏感密钥；Secrets 由 GitHub 管理。
- 禁止在日志中打印 token/key。
- 对内网访问与数据集访问：必须走审批（TBD）。

______________________________________________________________________

## 5. 故障排查

- CI 失败先在本地 `./quickstart.sh --dev --yes` 复现
- 检查磁盘/缓存（`.sage/`）
- 检查驱动/CUDA 版本（如适用）
