# Examples Testing Tools - PyPI åˆ†å‘é—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜

å¼€å‘è€…å¦‚æœé€šè¿‡ PyPI å®‰è£… `sage-tools`ï¼Œé‚£ä¹ˆ `examples/` ä»£ç ä¸ä¼šè¢«å®‰è£…ï¼Œå¯¼è‡´ Examples æµ‹è¯•å·¥å…·æ— æ³•ä½¿ç”¨ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

**å°† Examples æµ‹è¯•å·¥å…·å®šä½ä¸º"ä»…å¼€å‘ç¯å¢ƒå¯ç”¨"çš„åŠŸèƒ½**

### æ ¸å¿ƒæ€è·¯

1. **ç›®æ ‡ç”¨æˆ·æ˜ç¡®**ï¼šè¿™äº›å·¥å…·ä¸»è¦æœåŠ¡äº SAGE çš„å¼€å‘è€…å’Œè´¡çŒ®è€…ï¼Œè€Œéæ™®é€šç”¨æˆ·
2. **ä½¿ç”¨åœºæ™¯æ¸…æ™°**ï¼šå¼€å‘è€…æ€»æ˜¯ä¼šå…‹éš†å®Œæ•´çš„ä»“åº“è¿›è¡Œå¼€å‘
3. **èŒè´£åˆ†ç¦»**ï¼šå¼€å‘å·¥å…·åº”è¯¥åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨

## ğŸ¯ å®ç°æ–¹å¼

### 1. æ™ºèƒ½ç¯å¢ƒæ£€æµ‹

```python
def find_examples_directory() -> Optional[Path]:
    """æŒ‰ä¼˜å…ˆçº§æŸ¥æ‰¾ examples ç›®å½•"""
    # 1. æ£€æŸ¥ SAGE_ROOT ç¯å¢ƒå˜é‡
    # 2. ä»å½“å‰ç›®å½•å‘ä¸ŠæŸ¥æ‰¾
    # 3. ä»åŒ…å®‰è£…ä½ç½®æ¨æ–­
    # 4. Git ä»“åº“æ ¹ç›®å½•æ£€æµ‹
```

**æ”¯æŒçš„åœºæ™¯ï¼š**
- âœ… ä»æºç å®‰è£…ï¼š`pip install -e packages/sage-tools[dev]`
- âœ… Git ä»“åº“ä¸­è¿è¡Œ
- âœ… è®¾ç½® SAGE_ROOT ç¯å¢ƒå˜é‡
- âŒ ä» PyPI å®‰è£…ï¼ˆé¢„æœŸè¡Œä¸ºï¼‰

### 2. å‹å¥½çš„é”™è¯¯æç¤º

```python
raise RuntimeError(
    "SAGE development environment not found.\n\n"
    "To use these tools:\n"
    "  1. Clone: git clone https://github.com/intellistream/SAGE\n"
    "  2. Install: pip install -e packages/sage-tools[dev]\n"
    "  3. Or set: export SAGE_ROOT=/path/to/SAGE\n"
)
```

### 3. åˆ†å±‚é”™è¯¯å¤„ç†

- **å¯¼å…¥æ—¶**ï¼šåªè­¦å‘Šï¼ˆwarningï¼‰ï¼Œä¸é˜»æ­¢
- **ä½¿ç”¨æ—¶**ï¼šè¯¦ç»†é”™è¯¯ï¼Œé™„å¸¦è§£å†³æ–¹æ¡ˆ

## ğŸ“Š å¯¹ä¸åŒç”¨æˆ·çš„å½±å“

### æ™®é€šç”¨æˆ·ï¼ˆPyPI å®‰è£…ï¼‰

```bash
pip install isage-tools
```

**å½±å“**ï¼š
- âœ… æ­£å¸¸å®‰è£…å’Œä½¿ç”¨æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- âš ï¸ Examples æµ‹è¯•å·¥å…·ä¸å¯ç”¨ï¼ˆä½†ä»–ä»¬ä¸éœ€è¦ï¼‰
- âœ… ä¸ä¼šæœ‰ä»»ä½•é”™è¯¯ï¼ˆé™¤éä¸»åŠ¨ä½¿ç”¨ examples å·¥å…·ï¼‰

### å¼€å‘è€…ï¼ˆæºç å®‰è£…ï¼‰

```bash
git clone https://github.com/intellistream/SAGE
cd SAGE
pip install -e packages/sage-tools[dev]
```

**å½±å“**ï¼š
- âœ… æ‰€æœ‰åŠŸèƒ½å®Œå…¨å¯ç”¨
- âœ… å¯ä»¥è¿è¡Œ `sage-dev examples test`
- âœ… è‡ªåŠ¨æ£€æµ‹å¼€å‘ç¯å¢ƒ

### CI/CD ç¯å¢ƒ

```yaml
- uses: actions/checkout@v3  # å…‹éš†ä»“åº“
- run: pip install -e packages/sage-tools[dev]
- run: sage-dev examples test
```

**å½±å“**ï¼š
- âœ… å®Œå…¨æ­£å¸¸å·¥ä½œ
- âœ… æ— éœ€é¢å¤–é…ç½®

## ğŸ¨ è®¾è®¡ä¼˜åŠ¿

### 1. ç®€æ´æ€§ ğŸ¯
- ä»£ç ç®€å•ï¼Œæ˜“äºç»´æŠ¤
- æ— éœ€å¤æ‚çš„ä¸‹è½½ã€ç¼“å­˜é€»è¾‘
- èŒè´£æ¸…æ™°

### 2. æ€§èƒ½ âš¡
- PyPI åŒ…ä¿æŒå°å·§ï¼ˆä¸åŒ…å« examplesï¼‰
- æ— éœ€ç½‘ç»œä¸‹è½½
- æ— éœ€ç‰ˆæœ¬åŒæ­¥æ£€æŸ¥

### 3. å¯ç»´æŠ¤æ€§ ğŸ”§
- Examples æ›´æ–°ä¸å½±å“å·¥å…·å‘å¸ƒ
- å·¥å…·å’Œç¤ºä¾‹åœ¨åŒä¸€ä»“åº“ï¼Œä¿æŒåŒæ­¥
- æµ‹è¯•æ•°æ®æ˜“äºç®¡ç†

### 4. ç”¨æˆ·ä½“éªŒ ğŸ˜Š
- **å¼€å‘è€…**ï¼šé›¶é¢å¤–é…ç½®
- **æ™®é€šç”¨æˆ·**ï¼šä¸å—å½±å“
- **é”™è¯¯æç¤º**ï¼šæ¸…æ™°ä¸”å¯æ“ä½œ

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### æ£€æŸ¥ç¯å¢ƒ

```python
from sage.tools.dev.examples.utils import (
    get_development_info,
    ensure_development_environment
)

# è·å–ç¯å¢ƒä¿¡æ¯
info = get_development_info()
print(f"Examples directory: {info['examples_dir']}")

# ç¡®ä¿ç¯å¢ƒå¯ç”¨
if ensure_development_environment():
    print("âœ“ Ready to test examples")
```

### è¿è¡Œæµ‹è¯•

```bash
# åˆ†æç¤ºä¾‹
sage-dev examples analyze

# å¿«é€Ÿæµ‹è¯•
sage-dev examples test --quick

# æµ‹è¯•ç‰¹å®šç±»åˆ«
sage-dev examples test --category tutorials
```

### Python API

```python
from sage.tools.dev.examples import ExampleTestSuite

try:
    suite = ExampleTestSuite()
    stats = suite.run_all_tests(quick_only=True)
    print(f"Pass rate: {stats['passed'] / stats['total'] * 100:.1f}%")
except RuntimeError as e:
    print(f"Not in development environment: {e}")
```

## ğŸš« æ‹’ç»çš„æ›¿ä»£æ–¹æ¡ˆ

### âŒ æ–¹æ¡ˆ 1ï¼šæ‰“åŒ… examples åˆ° PyPI
- **é—®é¢˜**ï¼šæ˜¾è‘—å¢åŠ åŒ…å¤§å°
- **é—®é¢˜**ï¼šæ›´æ–°é¢‘ç¹ï¼Œå‘å¸ƒå›°éš¾
- **é—®é¢˜**ï¼šåŒ…å«æµ‹è¯•æ•°æ®ä¸é€‚åˆåˆ†å‘

### âŒ æ–¹æ¡ˆ 2ï¼šè¿è¡Œæ—¶ä¸‹è½½ examples
- **é—®é¢˜**ï¼šéœ€è¦ç½‘ç»œè¿æ¥
- **é—®é¢˜**ï¼šç‰ˆæœ¬åŒæ­¥å¤æ‚
- **é—®é¢˜**ï¼šç¦»çº¿ç¯å¢ƒæ— æ³•ä½¿ç”¨
- **é—®é¢˜**ï¼šè¿‡åº¦å·¥ç¨‹åŒ–

### âŒ æ–¹æ¡ˆ 3ï¼šåˆ›å»ºç‹¬ç«‹åŒ…
- **é—®é¢˜**ï¼šæ²¡æœ‰è§£å†³æ ¸å¿ƒé—®é¢˜
- **é—®é¢˜**ï¼šå¢åŠ ç®¡ç†å¤æ‚åº¦

## ğŸ“š æ–‡æ¡£ä½ç½®

1. **è®¾è®¡æ–‡æ¡£**ï¼š`docs/dev-notes/architecture/examples-testing-pypi-strategy.md`
2. **ä½¿ç”¨æŒ‡å—**ï¼š`packages/sage-tools/src/sage/tools/dev/examples/README.md`
3. **API æ–‡æ¡£**ï¼šæ¨¡å— docstrings
4. **ç¤ºä¾‹ä»£ç **ï¼š`packages/sage-tools/examples/demo_examples_testing.py`

## âœ¨ å…³é”®è¦ç‚¹

1. **è¿™ä¸æ˜¯ bugï¼Œè€Œæ˜¯è®¾è®¡å†³ç­–** - Examples æµ‹è¯•å·¥å…·æœ¬å°±æ˜¯ä¸ºå¼€å‘è€…è®¾è®¡çš„
2. **æ™®é€šç”¨æˆ·ä¸éœ€è¦** - ä»–ä»¬é€šè¿‡ PyPI å®‰è£…åä½¿ç”¨ SAGE æ¡†æ¶å³å¯
3. **å¼€å‘è€…è‡ªç„¶æ»¡è¶³æ¡ä»¶** - ä»–ä»¬ä¼šå…‹éš†ä»“åº“è¿›è¡Œå¼€å‘
4. **æ¸…æ™°çš„é”™è¯¯æç¤º** - å¦‚æœè¯¯ç”¨ä¼šå¾—åˆ°æ˜ç¡®çš„æŒ‡å¼•

## ğŸ“ ç»éªŒæ€»ç»“

- âœ… **æ˜ç¡®ç›®æ ‡ç”¨æˆ·**ï¼šä¸æ˜¯æ‰€æœ‰åŠŸèƒ½éƒ½éœ€è¦å¯¹æ‰€æœ‰äººå¯ç”¨
- âœ… **èŒè´£åˆ†ç¦»**ï¼šå¼€å‘å·¥å…·æœåŠ¡äºå¼€å‘è€…
- âœ… **ç®€æ´ä¼˜äºå¤æ‚**ï¼šé¿å…è¿‡åº¦å·¥ç¨‹åŒ–
- âœ… **æ¸…æ™°æ²Ÿé€š**ï¼šé€šè¿‡æ–‡æ¡£å’Œé”™è¯¯æ¶ˆæ¯è¯´æ˜è®¾è®¡æ„å›¾

---

**ç»“è®º**ï¼šè¿™æ˜¯ä¸€ä¸ªç»è¿‡æ·±æ€ç†Ÿè™‘çš„è®¾è®¡å†³ç­–ï¼Œå¹³è¡¡äº†å®ç”¨æ€§ã€å¯ç»´æŠ¤æ€§å’Œç”¨æˆ·ä½“éªŒã€‚
