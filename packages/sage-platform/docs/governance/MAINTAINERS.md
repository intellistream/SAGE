# 负责人制度（SAGE - 包级）

- 版本：2026-01-14
- 适用范围：当前包（本文件位于 `packages/<package>/docs/governance/MAINTAINERS.md`）
- 负责人名单：TBD

本文件定义“包级 Maintainer（负责人）”如何配置、如何工作、如何被量化验收。

______________________________________________________________________

## 1. 为什么需要 Maintainer

SAGE 是 monorepo，多包协作、依赖层级明确。Maintainer 的职责不是“写最多代码”，而是保证：

- 需求有人推进、问题有人闭环
- 质量门槛有人守住（CI/架构/测试）
- 跨包集成有人对齐（尤其是接口层与中间件层）

______________________________________________________________________

## 2. 负责人配置建议（按模块/子系统）

### 2.1 推荐配置

- 每个包至少 1 名 Maintainer（主负责人）+ 1 名 Backup（备份负责人）。
- 当包内包含多个子系统/高复杂度模块：建议拆分子 Maintainer。

### 2.2 负责人配置表（模板，必须维护）

| 模块/目录 | 复杂度 | 关键技能 | 主 Maintainer | Backup | 上游依赖 | 下游使用方 |
| --------- | ------ | -------- | ------------- | ------ | -------- | ---------- |
| TBD       | TBD    | TBD      | TBD           | TBD    | TBD      | TBD        |

> 单仓语义适配：这里的“上游/下游”指本 monorepo 的其他包或本包内其他模块。

______________________________________________________________________

## 3. 负责人职责拆分（40/30/20/10 参考）

可按实际调整，但必须覆盖全部职责：

- **40% 开发推进**：Roadmap/Issue/PR 推动，里程碑拆解，阻塞清理。
- **30% 质量把控**：CI 绿灯、测试策略、回归防护、性能/稳定性监控。
- **20% 集成同步**：跨包接口对齐、发布/版本对齐、变更公告与迁移指引。
- **10% 团队协作**：Review SLA、协作矩阵维护、争议处理与复核申请。

______________________________________________________________________

## 4. 要求与投入

- **最低投入**：每周固定时间段处理 Issue/PR（TBD：建议至少 2-4 小时/周）。
- **Review SLA**：工作日 48h 内首次响应。
- **透明度**：每月一次交付清单（含证据链接）。

______________________________________________________________________

## 5. 工作流程（开发 / 发布 / 集成同步）

### 5.1 日常开发

- 所有需求/缺陷必须有 Issue。
- PR 必须通过 `docs/governance/PR_CHECKLIST.md`。
- 架构约束（依赖层级、libs vs middleware）违反时：必须阻断合入。

### 5.2 发布与版本对齐（如适用）

- 发布前：测试与质量检查必须绿。
- 变更：Breaking 变更必须有迁移指引与回滚预案。
- 若涉及 PyPI 发布：使用仓库规定的发布工具链（例如 `sage-pypi-publisher`），不得手工 twine/pip 临时发布。

### 5.3 跨包集成同步

- 上游接口变化：必须提前通知下游 maintainer，并提供迁移窗口。
- 下游反馈：需要在 SLA 内回应并给出计划。

______________________________________________________________________

## 6. 协作矩阵（依赖/协作关系）

### 6.1 Monorepo 依赖层级速查

> 目标：避免“向上依赖”与循环依赖。

| 层级 | 包（示例）                 | 允许依赖         |
| ---- | -------------------------- | ---------------- |
| L5   | `sage-cli`, `sage-tools`   | L1-L4            |
| L4   | `sage-middleware`          | L1-L3            |
| L3   | `sage-kernel`, `sage-libs` | L1-L2            |
| L2   | `sage-platform`            | L1               |
| L1   | `sage-common`              | 仅 stdlib/轻依赖 |

### 6.2 本包协作矩阵（模板）

| 依赖方/被依赖方 | 关系类型 | 接口/契约 | 变更通知机制          | Maintainer 对接 |
| --------------- | -------- | --------- | --------------------- | --------------- |
| TBD             | 上游     | TBD       | Issue/PR/Release Note | TBD             |
| TBD             | 下游     | TBD       | Issue/PR/Release Note | TBD             |

______________________________________________________________________

## 7. 负责人名单（TBD）

| 模块/目录 | 主 Maintainer | Backup | 交接人（如更换） | 生效日期 |
| --------- | ------------- | ------ | ---------------- | -------- |
| TBD       | TBD           | TBD    | TBD              | TBD      |

______________________________________________________________________

## 8. 考核指标（参考，可量化）

- PR 首次响应 SLA 达标率
- CI 红灯平均恢复时间（MTTR）
- 每月交付清单是否按时发布（含证据）
- Breaking 变更公告与迁移指引完备率

______________________________________________________________________

## 9. FAQ

### Q1：Maintainer 是否必须是提交最多的人？

不是。Maintainer 的核心是“推进 + 质量 + 对齐”。提交多但不维护质量/不对齐下游同样不合格。

### Q2：如果包内没有发布流程怎么办？

仍需要“集成同步”：接口变更、跨包影响、迁移指引、回滚预案。
