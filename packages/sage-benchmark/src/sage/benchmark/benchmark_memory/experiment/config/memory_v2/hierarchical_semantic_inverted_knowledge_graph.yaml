version: '2.0'
service:
  type: hierarchical.semantic_inverted_knowledge_graph
  collection:
    name: semantic_inverted_kg_collection
    data_dir:
  indexes:
  - name: semantic_index
    type: faiss
    config:
      dim: 768
      metric: cosine
      index_type: Flat
  - name: inverted_index
    type: bm25
    config:
      backend: numba
      language: auto
  - name: kg_index
    type: segment
    config:
      strategy: custom
  service_config:
    default_index: semantic_index
    hierarchy_levels: 3
    routing_strategy: cascade
    enable_cross_layer_query: true
    max_hops: 3
  name: hierarchical_semantic_inverted_knowledge_graph
  description: hierarchical_semantic_inverted_knowledge_graph memory service
