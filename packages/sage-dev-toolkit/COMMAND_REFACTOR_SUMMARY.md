# SAGE Dev Toolkit å‘½ä»¤é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡å®ŒæˆçŠ¶æ€

### âœ… å·²å®Œæˆçš„é‡æ„

1. **æ ¸å¿ƒæ¶æ„é‡æ„**
   - åˆ›å»ºäº† `cli/core/` ç›®å½•ï¼ŒåŒ…å«å…¬å…±é€»è¾‘
   - åˆ›å»ºäº† `BaseCommand` åŸºç±»ç”¨äºæ ‡å‡†åŒ–å‘½ä»¤ç»“æ„
   - å®ç°äº† `CommandRegistry` è‡ªåŠ¨å‘ç°å‘½ä»¤æœºåˆ¶
   - å°†å…¬å…±å·¥å…·ä» `commands/common.py` ç§»åŠ¨åˆ° `cli/core/common.py`

2. **æ–°çš„å‘½ä»¤æ–‡ä»¶ç»“æ„**
   ```
   commands/
   â”œâ”€â”€ analyze.py      # åˆ†æç›¸å…³å‘½ä»¤
   â”œâ”€â”€ clean.py        # æ¸…ç†ç›¸å…³å‘½ä»¤
   â”œâ”€â”€ compile.py      # ç¼–è¯‘ç›¸å…³å‘½ä»¤
   â”œâ”€â”€ package.py      # åŒ…ç®¡ç†ç›¸å…³å‘½ä»¤
   â”œâ”€â”€ pypi.py         # PyPI ä¸Šä¼ ç›¸å…³å‘½ä»¤
   â”œâ”€â”€ report.py       # æŠ¥å‘Šç”Ÿæˆå‘½ä»¤
   â”œâ”€â”€ status.py       # çŠ¶æ€æŸ¥çœ‹å‘½ä»¤
   â”œâ”€â”€ test.py         # æµ‹è¯•ç›¸å…³å‘½ä»¤ (å¾…å®Œæˆ)
   â””â”€â”€ version.py      # ç‰ˆæœ¬ä¿¡æ¯å‘½ä»¤
   ```

3. **è‡ªåŠ¨å‘½ä»¤å‘ç°**
   - å®ç°äº†åŸºäºæ–‡ä»¶åçš„å‘½ä»¤è‡ªåŠ¨å‘ç°æœºåˆ¶
   - æ›´æ–°äº† `__init__.py` ä½¿ç”¨åŠ¨æ€å¯¼å…¥
   - æ”¯æŒçµæ´»çš„å‘½ä»¤æ³¨å†Œæ–¹å¼

### ğŸ”§ æ ¸å¿ƒæ”¹è¿›

#### 1. å…¬å…±é€»è¾‘é›†ä¸­åŒ–
```python
# cli/core/common.py - ç»Ÿä¸€çš„å·¥å…·å‡½æ•°
- get_toolkit()      # å·¥å…·åŒ…å®ä¾‹è·å–
- handle_command_error() # ç»Ÿä¸€é”™è¯¯å¤„ç†
- format_size()      # æ ¼å¼åŒ–å·¥å…·
- æ ‡å‡†é€‰é¡¹å®šä¹‰      # PROJECT_ROOT_OPTION, VERBOSE_OPTION ç­‰
```

#### 2. åŸºç¡€å‘½ä»¤ç±»
```python
# cli/core/base.py - å‘½ä»¤åŸºç±»
class BaseCommand:
    - execute_with_toolkit()  # ç»Ÿä¸€æ‰§è¡Œæ¨¡å¼
    - create_standard_options() # æ ‡å‡†é€‰é¡¹åˆ›å»º
    - show_success/info/warning/error() # ç»Ÿä¸€è¾“å‡ºæ ¼å¼
```

#### 3. å‘½ä»¤æ³¨å†Œå™¨
```python
# cli/core/registry.py - è‡ªåŠ¨å‘ç°æœºåˆ¶
class CommandRegistry:
    - discover_commands()     # è‡ªåŠ¨å‘ç°å‘½ä»¤
    - register_command()      # æ‰‹åŠ¨æ³¨å†Œå‘½ä»¤
    - list_commands()         # åˆ—å‡ºå¯ç”¨å‘½ä»¤
```

### ğŸ“‹ å½“å‰å‘½ä»¤æ˜ å°„

| æ–‡ä»¶å | å‘½ä»¤å | åŠŸèƒ½æè¿° |
|--------|--------|----------|
| `analyze.py` | `analyze` | é¡¹ç›®åˆ†æï¼ˆä¾èµ–ã€ç±»ç»“æ„ï¼‰ |
| `clean.py` | `clean` | æ¸…ç†æ„å»ºäº§ç‰©å’Œä¸´æ—¶æ–‡ä»¶ |
| `compile.py` | `compile` | Python åŒ…ç¼–è¯‘ä¸ºå­—èŠ‚ç  |
| `package.py` | `package` | SAGE åŒ…ç®¡ç†ï¼ˆå­å‘½ä»¤ç»„ï¼‰ |
| `pypi.py` | `pypi` | PyPI åŒ…ä¸Šä¼ ç®¡ç†ï¼ˆå­å‘½ä»¤ç»„ï¼‰ |
| `report.py` | `report` | ç”Ÿæˆç»¼åˆå¼€å‘æŠ¥å‘Š |
| `status.py` | `status` | æ˜¾ç¤ºå·¥å…·åŒ…çŠ¶æ€ |
| `version.py` | `version` | æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ |

### ğŸ¨ å‘½ä»¤ç»„ç»‡æ–¹å¼

#### ç›´æ¥å‘½ä»¤
è¿™äº›å‘½ä»¤ç›´æ¥æ·»åŠ åˆ°ä¸»åº”ç”¨ä¸­ï¼š
- `analyze` - åˆ†æå‘½ä»¤
- `clean` - æ¸…ç†å‘½ä»¤  
- `compile` - ç¼–è¯‘å‘½ä»¤
- `report` - æŠ¥å‘Šå‘½ä»¤
- `status` - çŠ¶æ€å‘½ä»¤
- `version` - ç‰ˆæœ¬å‘½ä»¤

#### å­å‘½ä»¤ç»„
è¿™äº›å‘½ä»¤ä½œä¸ºç‹¬ç«‹çš„å­å‘½ä»¤ç»„ï¼š
- `package` - åŒ…ç®¡ç†å­å‘½ä»¤ç»„
  - `package manage` - ç®¡ç†åŒ…
  - `package dependencies` - ä¾èµ–åˆ†æ
  - `package fix-imports` - ä¿®å¤å¯¼å…¥
- `pypi` - PyPI ç®¡ç†å­å‘½ä»¤ç»„
  - `pypi list` - åˆ—å‡ºåŒ…
  - `pypi check` - æ£€æŸ¥åŒ…
  - `pypi build` - æ„å»ºåŒ…
  - `pypi upload` - ä¸Šä¼ åŒ…

### ğŸš§ å¾…å®Œæˆå·¥ä½œ

1. **å®Œå–„å‘½ä»¤è¿ç§»**
   - ä»æ—§çš„ `core.py`, `maintenance.py`, `development.py` ç­‰æ–‡ä»¶è¿ç§»å‰©ä½™å‘½ä»¤
   - æ¸…ç†é‡å¤å’Œè¿‡æ—¶çš„å‘½ä»¤å®šä¹‰

2. **æµ‹è¯•å‘½ä»¤å®Œå–„**
   - å®Œæˆ `test.py` ä¸­çš„æµ‹è¯•å‘½ä»¤å®ç°
   - ç¡®ä¿æ‰€æœ‰æµ‹è¯•ç›¸å…³åŠŸèƒ½æ­£å¸¸å·¥ä½œ

3. **æ¸…ç†æ—§æ–‡ä»¶**
   - åˆ é™¤ä¸å†éœ€è¦çš„æ—§å‘½ä»¤æ–‡ä»¶
   - æ›´æ–°å¯¼å…¥è·¯å¾„å¼•ç”¨

4. **æ–‡æ¡£æ›´æ–°**
   - æ›´æ–° README å’Œä½¿ç”¨æŒ‡å—
   - åˆ›å»ºå‘½ä»¤å‚è€ƒæ–‡æ¡£

### ğŸ“– ä½¿ç”¨ç¤ºä¾‹

```bash
# æ–°çš„å‘½ä»¤ç»“æ„ä½¿ç”¨ç¤ºä¾‹

# ç›´æ¥å‘½ä»¤
sage-dev analyze dependencies --type circular
sage-dev clean artifacts --categories pycache,build
sage-dev compile package /path/to/package
sage-dev status show --detailed
sage-dev version show

# å­å‘½ä»¤ç»„
sage-dev package manage list
sage-dev package fix-imports my-package
sage-dev pypi list
sage-dev pypi upload --test --no-dry-run
```

### ğŸ—ï¸ æ¶æ„ä¼˜åŠ¿

1. **æ¨¡å—åŒ–**: æ¯ä¸ªå‘½ä»¤æ–‡ä»¶å¯¹åº”ä¸€ä¸ªåŠŸèƒ½åŸŸ
2. **å¯æ‰©å±•**: æ–°å¢å‘½ä»¤åªéœ€æ·»åŠ å¯¹åº”æ–‡ä»¶
3. **è‡ªåŠ¨å‘ç°**: æ— éœ€æ‰‹åŠ¨æ³¨å†Œï¼ŒåŸºäºæ–‡ä»¶åè‡ªåŠ¨å‘ç°
4. **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰å‘½ä»¤ä½¿ç”¨ç›¸åŒçš„åŸºç¡€è®¾æ–½
5. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

### ğŸ”„ è¿ç§»å»ºè®®

å¯¹äºéœ€è¦ä½¿ç”¨æ–°å‘½ä»¤ç»“æ„çš„å¼€å‘è€…ï¼š

1. **æ›´æ–°è„šæœ¬**: ä½¿ç”¨æ–°çš„å‘½ä»¤åç§°å’Œå‚æ•°
2. **æŸ¥çœ‹å¸®åŠ©**: ä½¿ç”¨ `--help` æŸ¥çœ‹å¯ç”¨å‘½ä»¤å’Œé€‰é¡¹
3. **æ¸è¿›è¿ç§»**: å¯ä»¥é€æ­¥ä»æ—§å‘½ä»¤è¿ç§»åˆ°æ–°å‘½ä»¤
4. **åé¦ˆé—®é¢˜**: é‡åˆ°é—®é¢˜åŠæ—¶åé¦ˆä»¥ä¾¿ä¿®å¤

---

é‡æ„å·¥ä½œåŸºæœ¬å®Œæˆï¼Œæ–°çš„å‘½ä»¤ç»“æ„æ›´åŠ æ¸…æ™°ã€æ¨¡å—åŒ–ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚
