# SAGE 开发环境 - Editable Install (修复版)
# 使用方法: pip install -r requirements-dev.txt

# 预先安装基础依赖，避免版本冲突
# 注意：这些版本需要与constraints文件一致

# 核心ML依赖（按特定版本安装）
torch==2.7.1
torchvision==0.22.1
transformers>=4.40.0
numpy>=1.21.0
scipy>=1.9.0

# Web框架
fastapi>=0.100.0
uvicorn>=0.23.0
pydantic>=2.0.0

# 核心SAGE包 (按依赖顺序安装)
-e ./packages/sage-kernel

# 暂时注释掉有复杂依赖的包，避免冲突
# 可以在核心包安装成功后再逐个启用
# -e ./packages/sage-middleware  
# -e ./packages/sage-userspace

# 开发工具（独立安装，避免依赖冲突）
-e ./packages/sage-tools/sage-dev-toolkit

# 开发依赖
pytest>=7.0
pytest-asyncio
pytest-cov
black
isort
flake8
mypy

# 可选: 商业版组件（如需要，取消注释）
# -e ./packages/commercial/sage-kernel
# -e ./packages/commercial/sage-middleware
# -e ./packages/commercial/sage-userspace
