# SAGE CLI ç»“æ„é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡
å°†åˆ†æ•£åœ¨ä¸åŒç›®å½•çš„CLIè„šæœ¬ç»Ÿä¸€æ•´åˆåˆ° `sage/tools/cli/` ä¸‹ï¼Œå½¢æˆç»Ÿä¸€çš„å‘½ä»¤è¡Œå·¥å…·æ¶æ„ã€‚

## ğŸ“ é‡æ„å‰çš„ç»“æ„
```
sage/tools/
â”œâ”€â”€ cli/                    # ä¸»CLIç³»ç»Ÿ
â”‚   â”œâ”€â”€ commands/          # å„ç§å‘½ä»¤
â”‚   â”œâ”€â”€ main.py           # ä¸»å…¥å£
â”‚   â””â”€â”€ core/             # CLIæ ¸å¿ƒ
â”œâ”€â”€ dev/
â”‚   â”œâ”€â”€ cli.py            # å¼€å‘å·¥å…·CLI (åˆ†æ•£)
â”‚   â””â”€â”€ cli/              # å¼€å‘CLIç›®å½• (åˆ†æ•£)
â”œâ”€â”€ studio/
â”‚   â””â”€â”€ cli.py            # Studio CLI (åˆ†æ•£)
â””â”€â”€ web_ui/               # Web UIç›¸å…³
```

## ğŸ“ é‡æ„åçš„ç»Ÿä¸€ç»“æ„
```
sage/tools/cli/
â”œâ”€â”€ main.py               # ç»Ÿä¸€ä¸»å…¥å£
â”œâ”€â”€ commands/             # æ‰€æœ‰CLIå‘½ä»¤ç»Ÿä¸€åœ¨æ­¤
â”‚   â”œâ”€â”€ dev.py           # âœ… å¼€å‘å·¥å…·å‘½ä»¤ (å·²é‡æ„)
â”‚   â”œâ”€â”€ studio.py        # âœ… Studioç®¡ç†å‘½ä»¤ (å·²é‡æ„)
â”‚   â”œâ”€â”€ job.py           # ä½œä¸šç®¡ç†
â”‚   â”œâ”€â”€ cluster.py       # é›†ç¾¤ç®¡ç†
â”‚   â”œâ”€â”€ deploy.py        # éƒ¨ç½²ç®¡ç†
â”‚   â”œâ”€â”€ config.py        # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ doctor.py        # ç³»ç»Ÿè¯Šæ–­
â”‚   â”œâ”€â”€ version.py       # ç‰ˆæœ¬ä¿¡æ¯
â”‚   â”œâ”€â”€ webui.py         # Web UIç®¡ç†
â”‚   â”œâ”€â”€ worker.py        # Workerç®¡ç†
â”‚   â”œâ”€â”€ head.py          # HeadèŠ‚ç‚¹ç®¡ç†
â”‚   â”œâ”€â”€ jobmanager.py    # JobManagerç®¡ç†
â”‚   â””â”€â”€ extensions.py    # æ‰©å±•ç®¡ç†
â”œâ”€â”€ core/                # CLIæ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ base.py          # åŸºç¡€ç±»
â”‚   â”œâ”€â”€ config.py        # é…ç½®å¤„ç†
â”‚   â”œâ”€â”€ utils.py         # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ validation.py    # éªŒè¯åŠŸèƒ½
â””â”€â”€ config_manager.py    # é…ç½®ç®¡ç†å™¨
```

## âœ… å·²å®Œæˆçš„é‡æ„

### 1. Devå‘½ä»¤ç»Ÿä¸€ (`commands/dev.py`)
**åŠŸèƒ½æ•´åˆï¼š**
- âœ… `readme` - ç”Ÿæˆé¡¹ç›®README
- âœ… `setup` - é¡¹ç›®ç¯å¢ƒè®¾ç½®  
- âœ… `test` - è¿è¡Œå¼€å‘æµ‹è¯•
- âœ… `clean` - æ¸…ç†é¡¹ç›®æ–‡ä»¶
- âœ… `status` - æ˜¾ç¤ºå¼€å‘ç¯å¢ƒçŠ¶æ€

**é›†æˆæ–¹å¼ï¼š**
```python
# ä»åŸ sage/tools/dev/cli.py è¿ç§»åˆ°
# sage/tools/cli/commands/dev.py
from sage.tools.cli.commands.dev import app as dev_app
app.add_typer(dev_app, name="dev", help="ğŸ› ï¸ å¼€å‘å·¥å…·")
```

### 2. Studioå‘½ä»¤ç»Ÿä¸€ (`commands/studio.py`) 
**åŠŸèƒ½æ•´åˆï¼š**
- âœ… `start` - å¯åŠ¨Studio
- âœ… `stop` - åœæ­¢Studio
- âœ… `restart` - é‡å¯Studio  
- âœ… `status` - æŸ¥çœ‹çŠ¶æ€
- âœ… `logs` - æŸ¥çœ‹æ—¥å¿—
- âœ… `install` - å®‰è£…ä¾èµ–
- âœ… `open` - åœ¨æµè§ˆå™¨æ‰“å¼€

**é›†æˆæ–¹å¼ï¼š**
```python
# å¤ç”¨ sage/tools/studio/cli.py çš„ StudioManager
from sage.tools.studio.cli import StudioManager
# åŒ…è£…ä¸ºtyperå‘½ä»¤åœ¨ commands/studio.py
```

### 3. ä¸»CLIå…¥å£æ›´æ–° (`main.py`)
**æ”¹è¿›ï¼š**
- âœ… ä¿®å¤è¯­æ³•é”™è¯¯
- âœ… æ·»åŠ devå‘½ä»¤æ³¨å†Œ
- âœ… æ›´æ–°studioå‘½ä»¤å¼•ç”¨
- âœ… ç»Ÿä¸€å¸®åŠ©ä¿¡æ¯æ ¼å¼
- âœ… æ·»åŠ ç‰ˆæœ¬å›è°ƒ

## ğŸ”„ éœ€è¦ç»§ç»­çš„å·¥ä½œ

### 1. æ¸…ç†æ—§æ–‡ä»¶
```bash
# å¯ä»¥å®‰å…¨åˆ é™¤çš„é‡å¤æ–‡ä»¶:
rm -rf sage/tools/dev/cli.py      # åŠŸèƒ½å·²è¿ç§»åˆ°commands/dev.py
rm -rf sage/tools/dev/cli/        # åŠŸèƒ½å·²æ•´åˆ

# ä¿ç•™ä½†ä¸å†ç‹¬ç«‹ä½¿ç”¨:
# sage/tools/studio/cli.py - ä¿ç•™ä½œä¸ºStudioManagerç±»åº“
```

### 2. å®Œå–„å…¶ä»–å‘½ä»¤
- æ£€æŸ¥å¹¶ä¼˜åŒ–ç°æœ‰commands/ä¸‹çš„å…¶ä»–æ¨¡å—
- ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ—¥å¿—æ ¼å¼
- æ·»åŠ æ›´å¤šå¼€å‘å·¥å…·åŠŸèƒ½

### 3. æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•
- æ›´æ–°CLIä½¿ç”¨æ–‡æ¡£
- æ·»åŠ å‘½ä»¤æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°quickstartè„šæœ¬å¼•ç”¨

## ğŸ‰ ä½¿ç”¨æ•ˆæœ

**é‡æ„å‰ï¼š**
```bash
# åˆ†æ•£çš„å‘½ä»¤å…¥å£
python -m sage.tools.dev.cli readme
python -m sage.tools.studio.cli start
```

**é‡æ„åï¼š**
```bash
# ç»Ÿä¸€çš„å‘½ä»¤å…¥å£
sage dev readme                    # å¼€å‘å·¥å…·
sage dev status
sage studio start                  # Studioç®¡ç†  
sage studio status
sage dev clean                     # é¡¹ç›®æ¸…ç†
```

## ğŸ“Š æ¶æ„ä¼˜åŠ¿

1. **ç»Ÿä¸€å…¥å£**: æ‰€æœ‰CLIåŠŸèƒ½é€šè¿‡`sage`å‘½ä»¤è®¿é—®
2. **æ¨¡å—åŒ–**: æ¯ä¸ªåŠŸèƒ½åŸŸç‹¬ç«‹çš„commandæ¨¡å—
3. **å¯æ‰©å±•**: æ–°åŠŸèƒ½å¯è½»æ¾æ·»åŠ åˆ°commands/
4. **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ã€æ—¥å¿—å’Œå¸®åŠ©æ ¼å¼
5. **å¯ç»´æŠ¤**: æ¸…æ™°çš„ä»£ç ç»„ç»‡å’ŒèŒè´£åˆ†ç¦»

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

1. æµ‹è¯•æ‰€æœ‰é‡æ„åçš„å‘½ä»¤åŠŸèƒ½
2. æ›´æ–°å®‰è£…è„šæœ¬å’Œentry points
3. å®Œå–„å‘½ä»¤çš„å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†
4. æ·»åŠ å‘½ä»¤çš„å•å…ƒæµ‹è¯•
5. æ›´æ–°ç”¨æˆ·æ–‡æ¡£
