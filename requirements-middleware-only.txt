# SAGE Middleware 中间层安装（不包含vllm，避免依赖冲突）
# 基于核心包安装

# 需要先安装: pip install -r requirements-core.txt

# Middleware包（排除AI模型依赖）
-e ./packages/sage-middleware

# 关键依赖但排除冲突包
python-jose==3.5.0
passlib==1.7.4
celery==5.5.3
flower==2.0.1

# API和数据处理
openai==1.90.0  # 使用vllm兼容版本而非1.98.0
ollama==0.5.1
zhipuai==2.1.5.20250801
cohere==5.16.2

# 文本处理
transformers==4.54.1
tokenizers==0.21.4
faiss-cpu==1.9.0
bm25s==0.2.13
rank-bm25==0.2.2
PyStemmer==3.0.0

# 其他核心工具（无冲突）
feedparser==6.0.11
accelerate==1.9.0
sentence-transformers==3.1.1
InstructorEmbedding==1.0.1
huggingface-hub==0.34.3
peft==0.17.0

# 说明：故意排除vllm以避免torch版本冲突
# 如需要vllm，可以单独安装: pip install vllm==0.8.0 --force-reinstall
